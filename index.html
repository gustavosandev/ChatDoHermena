<!DOCTYPE html>
<html lang="pt">
  <head>
		<title>ChatHermena</title>
		<meta charset="utf-8">
		<!-- Caminho do ícone -->
		<link rel="icon" sizes="192x192" href="icon.png"> 
		<!-- Hack para IOS - não testado -->
		<link rel="apple-touch-icon" href="touch-icon-iphone.png">
		<link rel="apple-touch-icon" sizes="76x76" href="touch-icon-ipad.png">
		<link rel="apple-touch-icon" sizes="120x120" href="touch-icon-iphone-retina.png">
		<link rel="apple-touch-icon" sizes="152x152" href="touch-icon-ipad-retina.png">
		<!-- fim hack -->

        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

	    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" type="text/css" href="bootstrap.min.css">-->

		<!-- Compiled and minified CSS -->
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">	 

	    <!-- Minha folha de estilo-->
		<link rel="stylesheet" type="text/css" href="estilo.css">
		<!-- Tema que abrange a barra de endereço -->
		<meta name="theme-color" content="#25EDFF">
		<!-- Melhora o ranking acessibilidade -->
		<meta name="Description" content="Chat Hermena">	
		<!-- Nossos códigos javascript -->
		<script src="index.js" defer></script>
		<!-- Caminho do nosso manifest, onde criamos nossas regras -->
		<link rel="manifest" crossorigin="use-credentials" href="manifest.json">	
  </head>
  <body>
  	<header>
		<nav>
		    <div class="nav-wrapper preto">
		      <a href="#" class="brand-logo center">
		      	<img src="icon.png" width="35" height="35" alt="icone">
		      </a>
		      <ul id="nav-mobile" class="left hide-on-med-and-down">
		        <li><a href="https://gustavosandev.github.io/dbusao/index.html">DBusão</a></li>
		      </ul>
		    </div>
		 </nav>
  	</header>
    <main class="container">
    		<div class="row">
    			<div class="col s12">
    				<h3 id="fontB">Chat do Hermena</h3>
    	    	</div>
    	    </div>
    	    <div class="row">
    			<div class="col s12">
    				<div id="scroll">
                       <ul class="collection" id="messages">
				      
				       </ul>
				    </div>
    	    </div>
    	    <div class="row ">
    	    	<form>
    	    	<div class="col s10">
    	    		<div class="input-field col s12">
			            <textarea id="textarea"name="enviar" class="materialize-textarea" data-length="120" id="text-message"></textarea>
			            <label for="textarea">Digite aqui</label>
			         </div>
	    		</div>
	    		<div class="col s2">
	    		   <button id="enviar" class="btn waves-effect waves-light marginButton" type="submit" name="action">Enviar
				      <i class="material-icons right">send</i>
				   </button>
				</div>
				</form>
    	    </div>
    	</div>   
    </main>
    <footer class="page-footer pretoFraco">
          <div class="container">
            <div class="row">
              <div class="col l6 s12">
                <h5 class="white-text">Chat do Hermena</h5>
                <!-- Aqui é o nosso botão para baixar o app -->
                <p class="grey-text text-lighten-4"><button type="submit"  class="waves-effect waves-light btn-small marginButton2 add-button">Baixe agora</button>&nbsp&nbsp&nbsp&nbsp Em desenvolvimento.</p>
              </div>
            </div>
          </div>
          <div class="footer-copyright preto">
            <div class="container">
            © 2020 Gustavo San Martins
            <a class="grey-text text-lighten-4 right" href="https://github.com/gustavosandev">Meu GitHub</a>
            </div>
          </div>
        </footer>
    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>-->

    <!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>


    <!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-app.js"></script>	
	<script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-database.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
	     https://firebase.google.com/docs/web/setup#available-libraries -->

	<script>
	  // Your web app's Firebase configuration
	  var firebaseConfig = {
	    apiKey: "AIzaSyCyU29aUEAh8gRy5yzDv0bo6qOJ1pRzuu0",
	    authDomain: "chathermena.firebaseapp.com",
	    databaseURL: "https://chathermena.firebaseio.com",
	    projectId: "chathermena",
	    storageBucket: "chathermena.appspot.com",
	    messagingSenderId: "158101185640",
	    appId: "1:158101185640:web:cceb949321458f470487dd"
	  };
	  // Initialize Firebase
	  firebase.initializeApp(firebaseConfig);



    //////////////////
    var message = firebase.database().ref('message');
    message.on('child_added', function(data){
    	$('#messages').append('<li class="collection-item">' + data.val().body + '</li>');
    })

    $('form').on('submit', function(){
    	message.push().set({ body: $('#text-message').val() });
    	$('#text-message').val('');
    })

   
	</script>
  </body>
</html>